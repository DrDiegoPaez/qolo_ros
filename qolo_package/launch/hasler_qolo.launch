<launch>
    <arg name="log_folder" default="$(env PWD)/csv_logs/test" />
    <arg name="shared_mode" default="false" />
    <arg name="compliance_mode" default="false" />
    <arg name="joystick_mode" default="false" />
    <arg name="remote_mode" default="true" />

    <include file="$(find qolo)/launch/joystick_qolo.launch"/>
    
    <node name="qolo_control" pkg="qolo" type="qolo_control_node.py" output="screen">
        <param name="log_folder"
               type="str"
               value="$(arg log_folder)"/>
        <param name="shared_mode"
               type="bool"
               value="$(arg shared_mode)"/>
        <param name="compliance_mode"
               type="bool"
               value="$(arg compliance_mode)"/>
        <param name="joystick_mode"
               type="bool"
               value="$(arg joystick_mode)"/>
        <param name="remote_mode"
               type="bool"
               value="$(arg remote_mode)"/>
    </node>

<!-- <include file="$(find qolo)/launch/qolo_joystick.launch"/> 
    <include file="$(find hector_mapping)/launch/mapping_qolo_rear.launch"/>
    <include file="$(find qolo)/launch/rear_lidar-slam.launch"/> 
    <include file="$(find hector_mapping)/launch/mapping_qolo_rear.launch"/>
    -->  
  <include file="$(find qolo)/launch/rear_lidar-cloud.launch"/> 

  <!-- Only for static tests without slam
  <node pkg="tf" type="static_transform_publisher" name="tf_front_lidar" 
      args="0.035 0 0.280 0 0.0174524 0 0.9998477 map tf_front_lidar 10" />  -->

    <include file="$(find qolo)/launch/tf_qolo.launch"/>

</launch>
